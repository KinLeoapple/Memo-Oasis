import{m as e,J as t,f as r,c as n,u as s,a,r as l,j as o,L as i,T as c,b as d,d as u,B as m,e as x,g as h,C as f,A as p,h as g,i as j,D as v,k as b,l as y,M as w,I as C,n as S,o as N,S as k,p as E,q as I,s as $,t as z,v as P,w as B,x as T,y as L,z as F,E as _,F as R,G as D,H as q,K as M,N as V,P as H,O,Q as G,R as A,U as W,V as K,W as Z,X as J,Y as U,Z as Y,_ as Q,$ as X,a0 as ee,a1 as te,a2 as re,a3 as ne,a4 as se,a5 as ae,a6 as le,a7 as oe,a8 as ie,a9 as ce,aa as de,ab as ue,ac as me,ad as xe,ae as he,af as fe,ag as pe,ah as ge,ai as je,aj as ve,ak as be,al as ye,am as we,an as Ce,ao as Se,ap as Ne,aq as ke,ar as Ee,as as Ie,at as $e,au as ze,av as Pe,aw as Be,ax as Te}from "./vendor-DZwpLdKb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Le=async n=>{const s=e.md5(n.toString()).toString();return new Promise((e=>{const n=new t;new Promise((e=>{r(`${He}/key`,{method:"GET",credentials:"include"}).then((t=>{e(t.body)})).catch((t=>e(new Promise((()=>e(null))))))})).then((t=>{if(null!==t){const r=t.key;null!==r&&(n.setPublicKey(r),e(n.encrypt(s)))}}))}))};const Fe="bg-slate-50",_e="bg-slate-900",Re="primary.600",De="primary.300",qe="primary.200",Me="primary.700",Ve=100,He=function(){let e=window.location.protocol,t=window.location.hostname,r=window.location.port;return null!=r&&""!==r||(r=null),`${e}//${t}${null!=r?":8080":""}`}();function Oe(){return new Promise((e=>{r(`${He}/blog/total`,{method:"GET",credentials:"include"}).then((t=>{e(t.body)})).catch((t=>e(new Promise((()=>e(null))))))}))}function Ge(e, t=0, n=5){return new Promise((s=>{r(`${He}/blog/${e}/null?offset=${t}&size=${n}`,{method:"GET",credentials:"include"}).then((e=>{s(e.body)})).catch((e=>s(new Promise((()=>s(null))))))}))}function Ae(e, t){return new Promise((n=>{r(`${He}/blog/${e}/${t}`,{method:"GET",credentials:"include"}).then((e=>{n(e.body)})).catch((e=>n(new Promise((()=>n(null))))))}))}function We(e){return new Promise((t=>{r(`${He}/blog/content/${e}`,{method:"GET",credentials:"include"}).then((e=>{t(e.body)})).catch((e=>t(new Promise((()=>t(null))))))}))}function Ke(e, t, n){return new Promise((s=>{r(`${He}/blog/draft/${t}/${n}`,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${e}`}}).then((e=>{s(e.body)})).catch((e=>s(new Promise((()=>s(null))))))}))}function Ze(e, t, n=0, s=5){return new Promise((a=>{r(`${He}/blog/draft/${t}/null?offset=${n}&size=${s}`,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${e}`}}).then((e=>{a(e.body)})).catch((e=>a(new Promise((()=>a(null))))))}))}function Je(e, t){return new Promise((n=>{r(`${He}/blog/draft/content/${t}`,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${e}`}}).then((e=>{n(e.body)})).catch((e=>n(new Promise((()=>n(null))))))}))}function Ue(e){return new Promise((t=>{r(`${He}/cat/${e}`,{method:"GET",credentials:"include"}).then((e=>{t(e.body)})).catch((e=>t(new Promise((()=>t(null))))))}))}function Ye(e){return new Promise((t=>{r(`${He}/cat/number/${e}`,{method:"GET",credentials:"include"}).then((e=>{t(e.body)})).catch((e=>t(new Promise((()=>t(null))))))}))}function Qe(e, t=0, n=5){return new Promise((s=>{r(`${He}/search/blog?keyword=${e}&offset=${t}&size=${n}`,{method:"GET",credentials:"include"}).then((e=>{s(e)})).catch((e=>s(new Promise((()=>s(null))))))}))}const Xe=Object.freeze({Category:1,Date:2,Title:3,Description:4}),et=n({name:"condition",initialState:{value:[]},reducers:{append:(e, t)=>{let r=t.payload,n=!1;for(let s=0; s<e.value.length; s++){let t=e.value[s];if(r.type===t.type&&r.condition===t.condition){n=!0;break}}n||e.value.push(t.payload)},remove:(e, t)=>{let r=t.payload;e.value=e.value.filter((e=>r.condition!==e.condition||r.type!==e.type))}}}),{append:tt,remove:rt}=et.actions,nt=(e, t)=>({type:e,condition:t}),st= e=>e.condition.value,at=n({name:"search_keyword",initialState:{value:{value:"",triggeredBy:null}},reducers:{setSearchBlogKeyword:(e, t)=>{e.value=t.payload}}}),{setSearchBlogKeyword:lt}=at.actions,ot=(e, t=null)=>({value:e,triggeredBy:t}),it= e=>e.searchKeyword.value,ct=n({name:"show_search_result",initialState:{value:!1},reducers:{setShowResultValue:(e, t)=>{e.value=t.payload}}}),{setShowResultValue:dt}=ct.actions,ut= e=>e.showSearchResult.value,mt=()=>{const e=s(st),t=a(),[n,x]=l.useState({data:[],refresh:!0});function h(t){let r=!1;for(let n=0; n<e.length; n++){let s=e[n];if(s.type===Xe.Category&&s.condition===t){r=!0;break}}return r}return l.useEffect((()=>{let e=[];new Promise((e=>{r(`${He}/cat/null`,{method:"GET",credentials:"include"}).then((t=>{e(t.body)})).catch((t=>e(new Promise((()=>e(null))))))})).then((t=>{if(null!==t)for(let r in t)Promise.all([Ue(t[r].id),Ye(t[r].id)]).then((t=>{t[1].count>0&&(t[0].number=t[1].count,e.push(t[0]),x({data:e,refresh:!0}))}))}))}),[n.refresh]),o.jsx(o.Fragment,{children:o.jsxs(i,{className:"select-none",size:"lg",color:"primary",variant:"plain",sx:{"--List-gap":"5px"},children:[o.jsxs(c,{level:"h4",color:"neutral",children:[o.jsx("span",{style:{fontSize:"x-large"},children:"C"}),"ategory"]}),n.data.length>0&&n.data.sort(((e, t)=>e.catName.toLowerCase().localeCompare(t.catName.toLowerCase()))).map(((e, r)=>o.jsx(d,{tabIndex:-1,className:"cursor-pointer select-none",sx:{width:"100%"},children:o.jsxs(u,{tabIndex:-1,onClick:()=>{var r;h(r=e.catName)?t(rt(nt(Xe.Category,r))):(t(tt(nt(Xe.Category,r))),t(lt(ot(""))),t(dt(!1)))},selected:h(e.catName),color:"primary",className:"flex flex-row justify-between",sx:{borderRadius:"6px"},children:[o.jsx(c,{noWrap:!0,className:"text-base font-bold",sx:{color:"inherit"},children:e.catName}),o.jsx(m,{variant:"soft",size:"sm",badgeContent:e.number,sx:{"--Badge-ring":"0 0 0 0"}})]})},r)))]})})},xt=n({name:"blog_page",initialState:{value:1},reducers:{increment: e=>{e.value+=1},decrement: e=>{e.value-=1},setPageValue:(e, t)=>{e.value=t.payload}}}),{increment:ht,decrement:ft,setPageValue:pt}=xt.actions,gt= e=>e.blogPage.value,jt=n({name:"blog_number",initialState:{value:0},reducers:{setNumberValue:(e, t)=>{e.value=t.payload}}}),{setNumberValue:vt}=jt.actions,bt= e=>e.blogNumber.value,yt=()=>{window.scrollTo?window.scrollTo({behavior:"smooth",top:0}):window.scroll&&window.scroll({behavior:"smooth",top:0})},wt="/webp/img-BEXlYf_p.webp";function Ct(e){let t=new Date(Number(e)),r=t.getFullYear(),n=t.getMonth()+1,s=t.getDate();return`${r}-${St(n)}-${St(s)}`}function St(e){return e<10?"0"+e:e}const Nt=n({name:"blog",initialState:{value:0},reducers:{setBlogValue:(e, t)=>{e.value=t.payload}}}),{setBlogValue:kt}=Nt.actions,Et= e=>e.blog.value;function It(e){switch(e){case"primary":return"var(--variant-plainColor, var(--joy-palette-primary-plainColor, var(--joy-palette-primary-500, #0B6BCB)))";case"danger":return"var(--variant-plainColor, var(--joy-palette-danger-plainColor, var(--joy-palette-danger-500, #C41C1C)))"}}const $t=n({name:"user_basic_info",initialState:{value:{id:null,name:null,quote:null,quoteName:null}},reducers:{setUserBasicInfoValue:(e, t)=>{e.value=t.payload}}}),{setUserBasicInfoValue:zt}=$t.actions,Pt= e=>e.userBasicInfo.value,Bt=n({name:"login_state",initialState:{value:!1},reducers:{setLoginStateValue:(e, t)=>{e.value=t.payload}}}),{setLoginStateValue:Tt}=Bt.actions,Lt= e=>e.loginState.value,Ft=n({name:"blog_delete",initialState:{value:0},reducers:{setBlogDeleteValue:(e, t)=>{e.value=t.payload}}}),{setBlogDeleteValue:_t}=Ft.actions,Rt= e=>e.blogDelete.value,Dt=n({name:"blog_op_button",initialState:{value:0},reducers:{setOpButtonValue:(e, t)=>{e.value=t.payload}}}),{setOpButtonValue:qt}=Dt.actions,Mt= e=>e.blogOpButton.value,Vt=({id:e=0,title:t="",date:r=0,category:n="",desc:i=""})=>{const d=[{decorator:o.jsx($,{}),text:"modify",color:"primary",func:function(t){t.stopPropagation(),R(!1),D.current=!1,B(`/writeblog/${e}`,{replace:!0})}},{decorator:o.jsx(z,{}),text:"delete",color:"danger",func:function(t){t.stopPropagation(),R(!1),D.current=!1,P(_t(e))}}],u=x(),m=l.useRef(u.id),P=a(),B=h(),T=s(Mt),L=s(Pt),F=s(Lt),[_,R]=l.useState(!1),D=l.useRef(_),[q,M]=l.useState(!1),V=l.useRef(void 0);l.useEffect((()=>{window.addEventListener("scroll",H)}),[]),l.useEffect((()=>{T!==e&&(R(!1),D.current=!1)}),[T]);const H=l.useCallback((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>{D.current&&e.intersectionRatio<1&&(R(!1),D.current=!1)}))}));let t=V.current;null!==t?void 0!==t&&e.observe(t):window.removeEventListener("scroll",H)}),[]);return l.useEffect((()=>{"blog"===location.pathname.split("/")[1]&&F&&(m.current=u.id?u.id:L.id,void 0!==m.current&&null!==m.current&&M(!0))}),[location,u,L,F]),o.jsx(o.Fragment,{children:o.jsxs(f,{onClick:()=>(P(kt(e)),void P(lt(ot("")))),invertedColors:!0,color:"primary",variant:"soft",className:"mb-5 cursor-pointer select-none",sx:{boxShadow:"lg",transition:"all .2s","&:hover":{background:"var(--variant-softHoverBg, var(--joy-palette-primary-softHoverBg, var(--joy-palette-primary-200, #C7DFF7)))"}},children:[o.jsx(p,{minHeight:"120px",maxHeight:"200px",children:o.jsx("img",{src:wt,loading:"lazy",alt:"",draggable:!1})}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(c,{level:"title-lg",children:t}),o.jsxs("div",{tabIndex:-1,className:"flex gap-2",children:[o.jsxs("span",{tabIndex:-1,className:"flex items-center gap-1",children:[o.jsx(g,{sx:{fontSize:"small"}}),o.jsx(j,{tabIndex:-1,onClick: e=>{var t;e.stopPropagation(),t=r,P(tt(nt(Xe.Date,t)))},size:"sm",className:"text-xs",color:"primary",variant:"soft",sx:{"--Chip-paddingInline":"5px","--Chip-minHeight":"16px","--Chip-decoratorChildHeight":"16px"},children:Ct(r)})]}),o.jsx(v,{orientation:"vertical"}),o.jsxs("span",{tabIndex:-1,className:"flex items-center gap-1",children:[o.jsx(b,{sx:{fontSize:"small"}}),o.jsx(j,{tabIndex:-1,onClick: e=>{var t;e.stopPropagation(),t=n,P(tt(nt(Xe.Category,t)))},size:"sm",className:"text-xs",color:"primary",variant:"soft",sx:{"--Chip-paddingInline":"5px","--Chip-minHeight":"16px","--Chip-decoratorChildHeight":"16px"},children:n})]})]})]}),q&&o.jsxs(y,{open:_,children:[o.jsx(w,{ref:V,tabIndex:-1,slots:{root:C},slotProps:{root:{size:"sm",variant:"plain",color:"primary",onClick:function(t){t.stopPropagation(),R(!_),D.current=!D.current,D.current&&P(qt(e))}}},children:o.jsx(S,{})}),o.jsx(N,{variant:"soft",color:"primary",placement:"bottom-end",className:"select-none",size:"sm",children:d.map(((e, t)=>o.jsxs("div",{children:[o.jsxs(k,{onClick:e.func,tabIndex:-1,autoFocus:!1,className:"flex justify-center items-center capitalize pl-2 pr-2",sx:{borderRadius:6,marginTop:"3px",marginLeft:"5px",marginRight:"5px",marginBottom:"4px"},children:[o.jsx(E,{variant:"plain",sx:{color:It(e.color)},children:e.decorator}),o.jsx("span",{className:"text-sm font-bold capitalize",style:{color:It(e.color)},children:e.text})]}),t!==d.length-1&&o.jsx(v,{sx:{width:"80%",marginLeft:"10%"}})]},t)))})]})]}),o.jsx(I,{children:o.jsxs(c,{noWrap:!0,children:[o.jsx("span",{className:"text-xl",children:i.charAt(0)}),o.jsx("span",{children:i.substring(1,i.length)})]})})]})})},Ht=n({name:"blog_filter_number",initialState:{value:0},reducers:{setFilterNumberValue:(e, t)=>{e.value=t.payload}}}),{setFilterNumberValue:Ot}=Ht.actions,Gt= e=>e.blogFilterNumber.value,At=()=>{const e=x(),[t,r]=l.useState({data:[],refresh:!1}),[n,i]=l.useState({data:[],refresh:!1}),[c,d]=l.useState({data:[],refresh:!1}),[u,m]=l.useState(!1),f=l.useRef(e.id),p=s(Pt),g=s(Lt),j=s(gt),v=s(bt),b=s(st),y=a(),w=P(),C=h();return l.useEffect((()=>{"blog"===w.pathname.split("/")[1]&&(g?(f.current=e.id?e.id:p.id,void 0!==f.current&&null!==f.current||C("/login",{replace:!0}),m(!u)):(f.current=e.id,void 0!==f.current&&null!==f.current||C("/login",{replace:!0})))}),[g]),l.useEffect((()=>{Oe().then((e=>{null!==e&&y(vt(e.total))}))}),[y]),l.useEffect((()=>{document.documentElement.scrollTop=0}),[j]),l.useEffect((()=>{if(void 0!==f.current){let e,t=0;1===j?e=5:(t=5*(j-1),e=v-t),Ge(f.current,t,e).then((e=>{if(null!==e){let t=[];for(let r in e)t.push(e[r].id);r({data:t,refresh:!0})}else r({data:[],refresh:!1})}))}}),[t.refresh,j,v,u]),l.useEffect((()=>{!function(){if(b.length>0){let e=n.data;b.filter((e=>e.type===Xe.Category)).length>0&&(e=e.filter((e=>{for(let t=0; t<b.length; t++){let r=b[t];if(r.type===Xe.Category&&e.category===r.condition)return!0}}))),b.filter((e=>e.type===Xe.Date)).length>0&&(e=e.filter((e=>{for(let t=0; t<b.length; t++){let r=b[t];if(r.type===Xe.Date&&e.date===r.condition)return!0}}))),d({data:e,refresh:!0})}else d(n);y(Ot(c.data.length))}()}),[n.data,c.refresh,b]),l.useEffect((()=>{if(void 0!==f.current){let e=[];if(t.data.length>0){for(let r in t.data)e.push(Ae(f.current,t.data[r]));Promise.all(e).then((e=>{let t=[];for(let r in e)null!==e[r]?t.push(e[r]):t.push(null);i({data:t,refresh:!0})}))}}}),[n.refresh,t.data,f]),o.jsx(o.Fragment,{children:c.data.sort(((e, t)=>Number(t.date)-Number(e.date))).map(((e, t)=>o.jsx(Vt,{id:e.id,title:e.title,category:e.category,date:e.date,desc:e.desc},t)))})},Wt=()=>{const{mode:e,setMode:t}=B();return o.jsx(o.Fragment,{children:o.jsxs("label",{className:"theme-switch",children:[o.jsx("input",{tabIndex:-1,type:"checkbox",className:"theme-switch__checkbox",checked:"dark"===e,onChange:()=>t("dark"===e?"light":"dark")}),o.jsxs("div",{className:"theme-switch__container",children:[o.jsx("div",{className:"theme-switch__clouds"}),o.jsx("div",{className:"theme-switch__stars-container",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 144 55",fill:"none",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M135.831 3.00688C135.055 3.85027 134.111 4.29946 133 4.35447C134.111 4.40947 135.055 4.85867 135.831 5.71123C136.607 6.55462 136.996 7.56303 136.996 8.72727C136.996 7.95722 137.172 7.25134 137.525 6.59129C137.886 5.93124 138.372 5.39954 138.98 5.00535C139.598 4.60199 140.268 4.39114 141 4.35447C139.88 4.2903 138.936 3.85027 138.16 3.00688C137.384 2.16348 136.996 1.16425 136.996 0C136.996 1.16425 136.607 2.16348 135.831 3.00688ZM31 23.3545C32.1114 23.2995 33.0551 22.8503 33.8313 22.0069C34.6075 21.1635 34.9956 20.1642 34.9956 19C34.9956 20.1642 35.3837 21.1635 36.1599 22.0069C36.9361 22.8503 37.8798 23.2903 39 23.3545C38.2679 23.3911 37.5976 23.602 36.9802 24.0053C36.3716 24.3995 35.8864 24.9312 35.5248 25.5913C35.172 26.2513 34.9956 26.9572 34.9956 27.7273C34.9956 26.563 34.6075 25.5546 33.8313 24.7112C33.0551 23.8587 32.1114 23.4095 31 23.3545ZM0 36.3545C1.11136 36.2995 2.05513 35.8503 2.83131 35.0069C3.6075 34.1635 3.99559 33.1642 3.99559 32C3.99559 33.1642 4.38368 34.1635 5.15987 35.0069C5.93605 35.8503 6.87982 36.2903 8 36.3545C7.26792 36.3911 6.59757 36.602 5.98015 37.0053C5.37155 37.3995 4.88644 37.9312 4.52481 38.5913C4.172 39.2513 3.99559 39.9572 3.99559 40.7273C3.99559 39.563 3.6075 38.5546 2.83131 37.7112C2.05513 36.8587 1.11136 36.4095 0 36.3545ZM56.8313 24.0069C56.0551 24.8503 55.1114 25.2995 54 25.3545C55.1114 25.4095 56.0551 25.8587 56.8313 26.7112C57.6075 27.5546 57.9956 28.563 57.9956 29.7273C57.9956 28.9572 58.172 28.2513 58.5248 27.5913C58.8864 26.9312 59.3716 26.3995 59.9802 26.0053C60.5976 25.602 61.2679 25.3911 62 25.3545C60.8798 25.2903 59.9361 24.8503 59.1599 24.0069C58.3837 23.1635 57.9956 22.1642 57.9956 21C57.9956 22.1642 57.6075 23.1635 56.8313 24.0069ZM81 25.3545C82.1114 25.2995 83.0551 24.8503 83.8313 24.0069C84.6075 23.1635 84.9956 22.1642 84.9956 21C84.9956 22.1642 85.3837 23.1635 86.1599 24.0069C86.9361 24.8503 87.8798 25.2903 89 25.3545C88.2679 25.3911 87.5976 25.602 86.9802 26.0053C86.3716 26.3995 85.8864 26.9312 85.5248 27.5913C85.172 28.2513 84.9956 28.9572 84.9956 29.7273C84.9956 28.563 84.6075 27.5546 83.8313 26.7112C83.0551 25.8587 82.1114 25.4095 81 25.3545ZM136 36.3545C137.111 36.2995 138.055 35.8503 138.831 35.0069C139.607 34.1635 139.996 33.1642 139.996 32C139.996 33.1642 140.384 34.1635 141.16 35.0069C141.936 35.8503 142.88 36.2903 144 36.3545C143.268 36.3911 142.598 36.602 141.98 37.0053C141.372 37.3995 140.886 37.9312 140.525 38.5913C140.172 39.2513 139.996 39.9572 139.996 40.7273C139.996 39.563 139.607 38.5546 138.831 37.7112C138.055 36.8587 137.111 36.4095 136 36.3545ZM101.831 49.0069C101.055 49.8503 100.111 50.2995 99 50.3545C100.111 50.4095 101.055 50.8587 101.831 51.7112C102.607 52.5546 102.996 53.563 102.996 54.7273C102.996 53.9572 103.172 53.2513 103.525 52.5913C103.886 51.9312 104.372 51.3995 104.98 51.0053C105.598 50.602 106.268 50.3911 107 50.3545C105.88 50.2903 104.936 49.8503 104.16 49.0069C103.384 48.1635 102.996 47.1642 102.996 46C102.996 47.1642 102.607 48.1635 101.831 49.0069Z",fill:"currentColor"})})}),o.jsx("div",{className:"theme-switch__circle-container",children:o.jsx("div",{className:"theme-switch__sun-moon-container",children:o.jsxs("div",{className:"theme-switch__moon",children:[o.jsx("div",{className:"theme-switch__spot"}),o.jsx("div",{className:"theme-switch__spot"}),o.jsx("div",{className:"theme-switch__spot"})]})})})]})]})})},Kt=({onMouseEnter:e,onMouseLeave:t})=>{const r=B(),n=a(),s=h(),i=[{decorator:o.jsx(T,{}),text:"profile",color:"primary",func:null},{decorator:o.jsx(L,{}),text:"sign out",color:"danger",func:function(){localStorage.removeItem("token"),n(Tt(!1)),n(zt({id:null,name:null,quote:null,quoteName:null})),s("/",{replace:!0})}}];return o.jsx(o.Fragment,{children:o.jsx(N,{onMouseEnter:e,onMouseLeave:t,variant:"soft",color:"primary",placement:"bottom-start",className:"select-none",sx:{boxShadow:"lg",padding:0},children:i.map(((e, t)=>o.jsxs("div",{children:[o.jsxs(d,{tabIndex:-1,onClick:e.func,className:"pl-2 pr-2 cursor-pointer",sx:{borderRadius:6,marginTop:"3px",marginLeft:"5px",marginRight:"5px",marginBottom:"4px","&:hover":{backgroundColor:"dark"===r.mode?"primary.700":"primary.200"}},children:[o.jsx(E,{variant:"plain",children:l.cloneElement(e.decorator,{sx:{color:It(e.color)}})}),o.jsx("span",{className:"text-sm font-bold capitalize",style:{color:It(e.color)},children:e.text})]}),t!==i.length-1&&o.jsx(v,{sx:{width:"80%",marginLeft:"10%"}})]},t)))})})},Zt=()=>{const e=B(),t=s(it),r=a(),[n,m]=l.useState(!1),[x,h]=l.useState([]),f=l.useRef({timer:null,time:(new Date).getTime()});return l.useEffect((()=>{h([]);let e=(new Date).getTime();e-f.current.time<=1200&&clearTimeout(f.current.timer),m(!0),f.current.timer=setTimeout((()=>{""!==t.value?Qe(t.value).then((e=>{let t=[];if(null!==e)for(let r in e)t.push(e[r]);h(t),m(!1)})):h([])}),1200),f.current.time=e}),[t]),o.jsx(o.Fragment,{children:""!==t.value&&o.jsx(F,{className:`w-full ${0===x.length?"min-h-24":"h-auto"} select-none`,sx:{boxShadow:"lg",marginTop:.5,borderRadius:"var(--joy-radius-sm)",backgroundColor:"dark"===e.mode?Me:qe},children:o.jsx(i,{variant:"soft",placement:"bottom-start",className:""+(0===x.length?"flex justify-center items-center":""),sx:{padding:0,borderRadius:"var(--joy-radius-sm)",backgroundColor:"dark"===e.mode?Me:qe},children:x.length>0?o.jsx(o.Fragment,{children:x.map(((e, t)=>o.jsxs("div",{children:[o.jsx(d,{className:"pl-2 pr-2",sx:{borderRadius:6,marginTop:"3px",marginLeft:"5px",marginRight:"5px",marginBottom:"4px"},children:o.jsx(u,{tabIndex:-1,color:"primary",onClick:()=>{return t=e.id,r(lt(ot(""))),void r(kt(t));var t},children:o.jsxs(c,{children:[o.jsx(c,{className:"font-bold",children:e.title}),o.jsx("br",{}),o.jsx(c,{level:"body-sm",children:e.desc})]})})}),t<x.length-1&&o.jsx(v,{})]},t)))}):o.jsx(o.Fragment,{children:n?o.jsx(_,{color:"primary",determinate:!1,size:"md",variant:"soft"}):o.jsx(o.Fragment,{children:0===x.length&&o.jsxs(o.Fragment,{children:[o.jsx(c,{variant:"plain",color:"primary",level:"body-lg",children:o.jsx(R,{})}),o.jsx(c,{level:"body-sm",children:"No Results Found"})]})})})})})})},Jt=({renderPending:e})=>{const t=a(),n=[{name:"Home",decorator:o.jsx(K,{}),path:"/blog"}],i=B(),c=P(),d=s(it),[u,m]=l.useState(!1),[x,f]=l.useState(""),[p,g]=l.useState(!1),j=s(Pt),[v,b]=l.useState(j.name),[S,N]=l.useState(j.quote),[k,E]=l.useState(j.quoteName),I=h(),$=s(Lt),[z,T]=l.useState($),[L,F]=l.useState(!1),[_,R]=l.useState(!1),Z=l.useRef(null);function J(e){let r=e.target.value;f(r),t(lt(ot(r)))}function U(e){e.stopPropagation(),null!==Z.current&&clearTimeout(Z.current),R(!0)}function Y(e){e.stopPropagation(),Z.current=setTimeout((()=>{R(!1)}),100)}l.useEffect((()=>{switch(c.pathname.split("/")[1]){case"dashboard":case"login":case"signup":m(!1);break;case"blog":case"":m(!0)}}),[c]),l.useEffect((()=>{if(e(!0),z)T(!0),e(!1);else{let n=localStorage.getItem("token");null!=n&&""!==n?function(e){return new Promise((t=>{r(`${He}/login/token`,{method:"POST",mode:"cors",credentials:"include",headers:{Authorization:`Bearer ${e}`}}).then((e=>{t(e.body)})).catch((e=>t(new Promise((()=>t(null))))))}))}(n).then((r=>{if(null!==r){let e=r.login;null!==e?(T(!0),t(Tt(!0)),localStorage.setItem("token",e),t(zt({id:r.id}))):(t(Tt(!1)),T(!1))}else t(Tt(!1)),T(!1);e(!1)})):(t(Tt(!1)),T(!1),e(!1))}}),[]),l.useEffect((()=>{var e;z&&(F(!0),(e=j.id,new Promise((t=>{r(`${He}/basic_info/${e}`,{method:"GET",credentials:"include"}).then((e=>{t(e.body)})).catch((e=>t(new Promise((()=>t(null))))))}))).then((e=>{b(e.name),N(e.quote),E(e.quote_name),t(zt({id:j.id,name:e.name,quote:e.quote,quoteName:e.quote_name})),F(!1)})))}),[t,z,v,S,k]),l.useEffect((()=>{f(d.value)}),[d]);const Q=l.useCallback((e=>{const r= e=>{let r=e.target;void 0===r.value&&(r=document.getElementById("searchInput"));let n=r.value;""!==n&&(t(lt(ot(n,e.type))),t(dt(!0)),document.getElementById("searchInput").blur())};("keyup"===e.type&&13===e.keyCode||"click"===e.type)&&r(e)}),[]);return o.jsx("div",{className:"w-full h-24 z-[1200] overflow-hidden",children:o.jsxs(D,{container:!0,columns:3,spacing:.1,className:`w-full fixed flex flex-col \n             justify-between items-center gap-5 flex-nowrap p-5 mb-3 backdrop-blur-lg\n            bg-opacity-80 ${"dark"===i.mode?_e:Fe}`,sx:{flexGrow:1},children:[o.jsx(D,{className:"relative z-30 flex justify-start items-center gap-3 select-none",xs:1,children:z?o.jsxs(y,{open:_,children:[o.jsxs(w,{tabIndex:-1,slots:{root:q},slotProps:{root:{variant:"plain",color:"primary",onMouseEnter:U,onMouseLeave:Y,sx:{transform:"scale(1.6)",marginTop:"30px",marginLeft:"20px",position:"absolute",border:"2px solid",borderColor:_?"dark"===i.mode?De:Re:"transparent",transition:"all .2s","&:hover":{borderColor:"dark"===i.mode?De:Re}}}},children:[o.jsx(q,{alt:v,src:L?"":"/webp/avatar-CLCPMQ5P.webp",color:"primary",variant:"soft",className:"cursor-pointer"}),o.jsx(M,{loading:L,animation:"wave",variant:"circular"})]}),o.jsx(Kt,{onMouseEnter:U,onMouseLeave:Y})]}):o.jsx(V,{onClick:function(){I("/login",{replace:!0})},startDecorator:o.jsx(H,{}),children:"Sign in"})}),u&&o.jsxs(D,{xs:.8,className:"relative",children:[o.jsx(O,{slots:{root:O},slotProps:{root:{id:"searchInput",endDecorator:o.jsxs("div",{className:"flex gap-2",children:[""!==x&&o.jsx(C,{tabIndex:-1,onClick:function(){f(""),t(lt(ot(""))),t(dt(!1))},sx:{background:"transparent","&:hover":{background:"transparent"}},children:o.jsx(G,{})}),o.jsx(C,{onClick:Q,tabIndex:-1,variant:"plain",color:"primary",sx:{borderRadius:"50%"},children:o.jsx(A,{})})]}),onFocus:function(){g(!0),document.body.addEventListener("keyup",Q)},onBlur:function(){g(!1),document.body.removeEventListener("keyup",Q)},onChange: e=>J(e),onInput: e=>J(e),value:x,variant:"soft",size:"md",placeholder:"Search",sx:{"--Input-focusedThickness":"0",transition:"box-shadow .2s",backgroundColor:"dark"===i.mode?Me:qe,boxShadow:p?"lg":""}}}}),"blog"===c.pathname.split("/")[1]&&o.jsx("div",{className:"absolute w-full "+(p?"":"opacity-0 -z-50"),children:o.jsx(Zt,{})})]}),o.jsx(D,{xs:1,children:o.jsxs("div",{className:"flex flex-row justify-end items-center gap-2",children:[o.jsx("div",{className:"flex flex-row gap-3",children:n.map((e=>o.jsx(W,{tabIndex:-1,className:"blog"===e.path.split("/")[1]?z?"":"hidden":"",to:e.path,replace:!0,children:o.jsx(V,{tabIndex:-1,startDecorator:e.decorator,variant:c.pathname===e.path?"soft":"plain",children:e.name})},e.name)))}),o.jsx("div",{className:"flex justify-end items-center",style:{width:"5.625em"},children:o.jsx(Wt,{})})]})})]})})},Ut=()=>o.jsx("div",{tabIndex:-1,className:"fixed z-[999] bottom-5 right-5 m-auto",children:o.jsx(Z,{tabIndex:-1,title:"Sroll to top",placement:"left",size:"sm",children:o.jsx(C,{tabIndex:-1,onClick:yt,color:"primary",variant:"soft",sx:{borderRadius:"50%",width:40,height:40,border:"1px solid",borderColor:"var(--variant-outlinedBorder, var(--joy-palette-primary-outlinedBorder, var(--joy-palette-primary-300, #97C3F0)))",boxShadow:"lg"},children:o.jsx(J,{})})})});const Yt=()=>{let e=B();const[t,r]=l.useState(!1);return l.useEffect((()=>{setTimeout((()=>{r(!0)}),2e3)}),[]),l.useEffect((()=>{document.querySelector(".loader").querySelectorAll(".dot").forEach((t=>{t.style.border=`2px solid ${"dark"===e.mode?_e:Fe}`}))}),[e]),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center "+(t?"opacity-100":"opacity-0"),children:o.jsxs("div",{className:"loader",children:[o.jsx("div",{className:"dot"}),o.jsx("div",{className:"dot"}),o.jsx("div",{className:"dot"}),o.jsx("div",{className:"dot"}),o.jsx("div",{className:"dot"})]})})},Qt=n({name:"location",initialState:{value:"/"},reducers:{setLocationValue:(e, t)=>{e.value=t.payload}}}),{setLocationValue:Xt}=Qt.actions,er= e=>e.location.value,tr=({left:e={el:o.jsx(o.Fragment,{}),fixed:!1},right:t={el:o.jsx(o.Fragment,{}),fixed:!1},content:r={el:o.jsx(o.Fragment,{})},center:n={el:o.jsx(o.Fragment,{}),show:!1,fixed:!1},leftMargin:s=!0,rightMargin:i=!0,navigate:c=!0})=>{const d=void 0===s||s,u=void 0===i||i,[m,x]=l.useState(!1),[h,f]=l.useState(!1),[p,g]=l.useState(!0),j=P(),v=a(),b=l.useMemo((()=>o.jsx(Jt,{renderPending:w})),[]);l.useEffect((()=>{v(Xt(j.pathname))}),[j]),l.useEffect((()=>{p&&setTimeout((()=>{p&&g(!1)}),1e4)}),[p]),l.useEffect((()=>{m||(x(!0),window.removeEventListener("scroll",y),window.addEventListener("scroll",y))}),[]);const y=l.useCallback((()=>{(function(){let e=0,t=0,r=0;return document.body&&(t=document.body.scrollTop),document.documentElement&&(r=document.documentElement.scrollTop),e=t-r>0?t:r,e})()>100?f(!0):f(!1)}),[]);function w(e){g(e)}return o.jsxs(o.Fragment,{children:[o.jsxs(F,{className:"min-h-full min-w-full",children:[c&&b,!p&&o.jsxs(D,{className:"min-h-full min-w-full flex justify-between gap-1",container:!0,spacing:0,columns:4,sx:{flexGrow:1},children:[o.jsx(D,{xs:.8,className:"flex flex-col gap-5 "+(d?"ml-5":""),children:o.jsx("div",{className:(e.fixed?"fixed w-[20%]":"")+"\n                        h-[100%] flex-shrink-0",children:e.el})}),o.jsx(D,{xs:2,children:o.jsx("div",{className:"min-h-full flex-shrink-0",children:r.el})}),o.jsx(D,{xs:.8,className:"flex flex-col gap-5 "+(u?"mr-5":""),children:o.jsx("div",{className:(t.fixed?"fixed w-[20%]":"")+"\n                        h-[100%] flex-shrink-0",children:t.el})})]}),o.jsx("div",{className:h?"":"hidden",children:o.jsx(Ut,{})})]}),n.show&&o.jsx(o.Fragment,{children:!p&&o.jsx("div",{className:(n.fixed?"fixed":"")+" inset-0 flex items-center justify-center",children:n.el})}),p&&o.jsx(Yt,{})]})},rr=()=>{const e=s(st),t=s(gt),r=s(bt),n=s(Gt),i=a(),[c,d]=l.useState(0),[u,m]=l.useState({front:!1,back:!1}),[x,h]=l.useState(f());function f(){let e=c,r=1;c>3&&(u.front&&u.back?(e=3,r=t-1):(e=4,r=u.front?c-4:2));let n=e===c?e-1:e+r,s=[];for(let t=r; t<n; t++)s.push(t);return s}function p(e){e<1?e=1:e>c&&(e=c),i(qt(0)),i(pt(e))}return l.useEffect((()=>{let t=e.length>0?n:r;d(parseInt(Math.ceil(t/5).toString())||0)}),[e,n,r]),l.useEffect((()=>{let e=!0,r=!0;c>3?t-1<3?e=!1:c-t<3&&(r=!1):(e=!1,r=!1),m({front:e,back:r})}),[t]),l.useEffect((()=>{h(f())}),[u]),o.jsx("div",{className:"w-full flex flex-col justify-center items-center mt-2 mb-10",children:c>1&&o.jsxs(F,{direction:"row",spacing:2,className:"w-11/12 flex flex-col justify-center",children:[o.jsx(C,{onClick:function(){t>1&&(i(qt(0)),i(ft()))},color:"primary",size:"sm",tabIndex:-1,children:o.jsx(U,{})}),o.jsx(C,{onClick:()=>p(1),size:"sm",color:1===t?"success":"primary",tabIndex:-1,children:1}),u.front&&o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(Y,{children:o.jsx(Q,{})})}),x.map(((e, r)=>o.jsx(C,{onClick:()=>p(e),size:"sm",color:e===t?"success":"primary",tabIndex:-1,children:e},r))),u.back&&o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(Y,{children:o.jsx(Q,{})})}),o.jsx(C,{onClick:()=>p(c),size:"sm",color:t===c?"success":"primary",tabIndex:-1,children:c}),o.jsx(C,{onClick:function(){t<c&&(i(qt(0)),i(ht()))},color:"primary",size:"sm",tabIndex:-1,children:o.jsx(X,{})})]})})},nr=()=>{const e=s(st),t=a();function r(e){switch(e.type){case Xe.Category:return e.condition;case Xe.Date:return Ct(e.condition);case Xe.Title:case Xe.Description:return e.condition}}return o.jsx(o.Fragment,{children:e.length>0&&o.jsxs(f,{color:"primary",variant:"soft",className:"select-none mb-5",sx:{boxShadow:"lg"},children:[o.jsx(c,{level:"title-lg",children:"Filters"}),o.jsx(v,{inset:"none"}),o.jsx(D,{container:!0,spacing:.5,children:e.map(((e, n)=>o.jsx(D,{xs:"auto",children:o.jsx(j,{variant:"outlined",color:"primary",endDecorator:o.jsx(ee,{onDelete:()=>{t(rt(e))}}),children:r(e)})},n)))})]})})},sr=n({name:"blog_content",initialState:{value:""},reducers:{setContentValue:(e, t)=>{e.value=t.payload}}}),{setContentValue:ar}=sr.actions,lr= e=>e.blogContent.value,or=()=>{const e=a();return o.jsx(o.Fragment,{children:o.jsx(V,{tabIndex:-1,onClick:function(){e(kt(0)),e(ar("")),e(lt(ot(""))),e(dt(!1))},color:"neutral",variant:"solid",sx:{width:"50px",height:"50px",borderRadius:"50%",zIndex:1,position:"absolute",marginTop:"-15px",marginLeft:"calc(100% - 35px)",boxShadow:"lg",border:"1px solid",borderColor:"var(--variant-outlinedBorder, var(--joy-palette-primary-outlinedBorder, var(--joy-palette-primary-300, #97C3F0)))",background:"var(--joy-palette-background-surface)",color:"rgba(var(--joy-palette-danger-mainChannel) / 1)",transition:"all .2s","&:hover":{color:"white",background:"rgba(var(--joy-palette-danger-mainChannel) / 1)"}},children:o.jsx(G,{style:{width:"30px",height:"30px"}})})})},ir=()=>{B();const e=s(Et),t=a();l.useState("render");const[r,n]=l.useState("");return l.useEffect((()=>{t(lt(ot(""))),t(dt(!1))}),[]),l.useEffect((()=>{We(e).then((e=>{n(e.content)}))}),[e]),l.useEffect((()=>{t(ar(r))}),[r,t]),o.jsxs("div",{className:"relative mt-10",children:[o.jsx(or,{}),o.jsxs(f,{color:"primary",variant:"outlined",sx:{boxShadow:"lg"},children:[o.jsx(te,{children:o.jsx(p,{ratio:"2",children:o.jsx("img",{src:wt,loading:"lazy",alt:""})})}),o.jsx(I,{})]})]})},cr=()=>{const e=s(lr),[t,r]=l.useState([]),[n,a]=l.useState(6),[m]=l.useState(6);async function x(e, r){const n=t.filter((e=>e.tag===r));0!==n.length&&e.querySelectorAll(`h${r}`).forEach(((e, t)=>{e.setAttribute("id",`blog-index-${n[t].id}`)}))}return l.useEffect((()=>{!function(e){if(null!==e){let t=[],s=0,l=new re.Renderer;l.heading=(e, l, o)=>{n>l&&a(l),s+=1;let i=!1;for(let r=0; r<t.length; r++)if(t[r].id===s){i=!0;break}return i||(t.push({id:s,tag:l,text:e}),r(t)),`<h${l}>${e}</h${l}>`},re.setOptions({renderer:l,pedantic:!1,gfm:!0,tables:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1}),re(e)}else r([])}(e)}),[e]),l.useEffect((()=>{for(let r=0; r<t.length; r++)n>t[r].tag&&a(t[r].tag);const e=document.querySelector("#render");for(let t=m; t>=n; t--)x(e,t)}),[t,n]),o.jsx(o.Fragment,{children:o.jsxs(i,{className:(t.length>0?"":"hidden")+" select-none",size:"lg",color:"primary",variant:"plain",sx:{"--List-gap":"5px"},children:[o.jsxs(c,{level:"h4",color:"neutral",children:[o.jsx("span",{style:{fontSize:"x-large"},children:"C"}),"ontents"]}),t.map(((e, t)=>o.jsx(d,{className:"cursor-pointer select-none",sx:{width:"100%"},children:o.jsx(u,{onClick:()=>(e=>{let t=document.getElementById(e);window.scrollTo?window.scrollTo({behavior:"smooth",top:t.offsetTop}):window.scroll&&window.scroll({behavior:"smooth",top:t.offsetTop})})(`blog-index-${e.id}`),color:"primary",className:"flex flex-row justify-start",sx:{borderRadius:"6px"},children:o.jsx("span",{style:{marginLeft:10*(e.tag-n)+"px"},className:"text-base font-bold",children:e.text})})},t)))]})})};function dr(e, t){let r=e;for(let n=0; n<t.length; n++){let e=!1;for(let s=0; s<r.length; s++)if(r[s].id===t[n].id){e=!0;break}e||r.push(t[n])}return r}const ur=({id:e="",blog:t=!0,search:r=!1})=>{const n=s(Pt),m=s(it),x=a(),[h,p]=l.useState(!1),[g,b]=l.useState(m.value),[y,w]=l.useState([]),C=l.useRef([]),[S,N]=l.useState(!1),[k,E]=l.useState(!1),$=l.useRef(!1),[z,P]=l.useState(1),B=l.useRef(1);l.useEffect((()=>{r&&null!==m.triggeredBy&&(w([]),b(m.value),F())}),[m]),l.useEffect((()=>{h?window.removeEventListener("scroll",T):(p(!0),b(m.value),x(lt(ot(""))),window.addEventListener("scroll",T))}),[]);const T=l.useCallback((()=>{const t=new IntersectionObserver((e=>{e.forEach(((t, r)=>{r===e.length-1&&1===t.intersectionRatio&&($.current||(F(),P(B.current+1)))}))}),{threshold:1});let r=document.querySelector(`#${e}`);if(null!==r){let e=r.children;void 0!==e[e.length-1]&&t.observe(e[e.length-1])}else window.removeEventListener("scroll",T)}),[]);function L(){const e= e=>{0===Object.getOwnPropertyNames(e).length&&(E(!0),$.current=!0),P(B.current+1)};let r=z*Ve;t?Ge(n.id,r,Ve).then((t=>{e(t)})):Ze(localStorage.getItem("token"),n.id,r,Ve).then((t=>{e(t)}))}function F(){N(!0),C.current=y,B.current=z,r?function(){if(!$.current){let e=(z-1)*Ve;Qe(m.value,e,Ve).then((e=>{let t=[];if(null!==e)for(let r in e)t.push(e[r]);0===t.length?(E(!0),$.current=!0):w(dr(C.current,t)),N(!1)}))}}():function(){if(!$.current){let e=(z-1)*Ve;t?Ge(n.id,e,Ve).then((e=>{D(e),L()})):Ze(localStorage.getItem("token"),n.id,e,Ve).then((e=>{D(e),L()}))}}()}function D(e){let r=0,s=[],a=null;for(let l in e){let o;if(r++,clearTimeout(a),t)o=[Ae(n.id,e[l].id),We(e[l].id)];else{let t=localStorage.getItem("token");o=[Ke(t,n.id,e[l].id),Je(t,e[l].id)]}Promise.all(o).then((e=>{e[0].content=e[1].content,s.push(e[0]),a=setTimeout((()=>{0!==s.length&&w(dr(C.current,s)),N(!1)}),100)}))}0===r&&(E(!0),$.current=!0)}return o.jsxs("div",{className:"relative mt-10",children:[o.jsx(or,{}),o.jsxs(f,{invertedColors:!0,variant:"soft",color:"primary",children:[r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-start gap-2 select-none",children:[o.jsx(c,{className:"font-bold",level:"title-sm",variant:"plain",color:"primary",children:"Results of"}),o.jsx(j,{color:"primary",size:"sm",variant:"outlined",sx:{"--Chip-minHeight":"19px","--Chip-gap":"8px","--Chip-paddingInline":"12px"},children:o.jsx("span",{className:"w-full text-center",children:g})})]}),o.jsx(v,{sx:{width:"95%",marginLeft:"2.5%"}})]}),o.jsxs(I,{children:[o.jsx(i,{className:""+(0===y.length?"flex justify-center items-center":""),id:e,color:"primary",variant:"soft",placement:"bottom-start",sx:{padding:0,borderRadius:"var(--joy-radius-sm)",backgroundColor:"transparent"},children:0===y.length?o.jsxs(o.Fragment,{children:[o.jsx(c,{variant:"plain",color:"primary",level:"body-lg",children:o.jsx(R,{})}),o.jsx(c,{level:"body-sm",children:"No Results Found"})]}):o.jsx(o.Fragment,{children:y.map(((e, t)=>o.jsx("div",{children:o.jsx(d,{sx:{borderRadius:6,marginTop:"3px",marginLeft:"3%",marginRight:"3%",marginBottom:"3px"},children:o.jsx(u,{tabIndex:-1,onClick:()=>{return t=e.id,x(lt(ot(""))),x(kt(t)),void x(dt(!1));var t},children:o.jsxs(c,{children:[o.jsx(c,{className:"font-bold",children:e.title}),o.jsx("br",{}),o.jsx(c,{noWrap:!0,level:"body-sm",children:e.desc}),o.jsx("br",{}),o.jsx(c,{level:"body-sm",children:e.content.length<=100?e.content:e.content.slice(0,100)+" ..."})]})})})},t)))})}),k&&S&&o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(_,{color:"primary",determinate:!1,size:"md",variant:"soft"})})]})]})]})},mr=()=>o.jsx("div",{className:"mb-10",children:o.jsx(ur,{id:"resultList",search:!0})}),xr=()=>{const e=h(),t=a(),n=s(Rt),[i,d]=l.useState(!1);function u(){var t,s;(t=localStorage.getItem("token"),s=n,new Promise((e=>{r(`${He}/blog`,{method:"DELETE",mode:"cors",credentials:"include",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify({blog_id:s})}).then((t=>{e(t.body)})).catch((t=>e(new Promise((()=>e(null))))))}))).then((t=>{null!==t&&t.deleted&&e("/blog",{replace:!0})}))}function m(){d(!1),t(_t(0))}return l.useEffect((()=>{d(0!==n)}),[n]),o.jsx(o.Fragment,{children:o.jsx(ne,{keepMounted:!0,open:i,onClose:m,children:o.jsxs(se,{color:"primary",variant:"outlined",sx: e=>({[e.breakpoints.only("xs")]:{top:"unset",bottom:0,left:0,right:0,borderRadius:0,transform:"none",maxWidth:"unset"}}),children:[o.jsx(c,{id:"nested-modal-title",level:"h4",children:"Are you absolutely sure?"}),o.jsx(c,{id:"nested-modal-description",textColor:"text.tertiary",children:"This action cannot be undone. This will permanently delete and remove your data."}),o.jsxs(ae,{sx:{mt:1,display:"flex",gap:1,flexDirection:{xs:"column",sm:"row-reverse"}},children:[o.jsx(V,{tabIndex:-1,variant:"solid",color:"primary",onClick:function(){d(!1),u()},children:"Continue"}),o.jsx(V,{tabIndex:-1,variant:"outlined",color:"neutral",onClick:m,children:"Cancel"})]})]})})})},hr=()=>{const e=a(),t=s(Et),r=s(ut);return l.useEffect((()=>{e(kt(0)),e(ar("")),e(qt(0))}),[]),o.jsx(o.Fragment,{children:o.jsx(tr,{left:{el:o.jsx(o.Fragment,{children:0===t?o.jsx(mt,{}):o.jsx(cr,{})}),fixed:!0},content:{el:o.jsx("div",{className:"min-h-full",children:r?o.jsx(mr,{}):o.jsx(o.Fragment,{children:0===t?o.jsxs(o.Fragment,{children:[o.jsx(nr,{}),o.jsx(At,{}),o.jsx(rr,{}),o.jsx(xr,{})]}):o.jsx(ir,{})})})}})})},fr=Object.freeze({Profile:1,Blogs:2,Drafts:3}),pr=n({name:"side_bar",initialState:{value:0},reducers:{setSideBarValue:(e, t)=>{e.value=t.payload}}}),{setSideBarValue:gr}=pr.actions,jr= e=>e.sideBar.value,vr=()=>{const e=a(),[t,n]=l.useState(0),[s,x]=l.useState(0),[h,f]=l.useState(0),[p,g]=l.useState(!1);function j(t){n(t),e(gr(t))}return l.useEffect((()=>{Oe().then((e=>{x(e.total)}))}),[]),l.useEffect((()=>{var e;(e=localStorage.getItem("token"),new Promise((t=>{r(`${He}/blog/draft/total`,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${e}`}}).then((e=>{t(e.body)})).catch((e=>t(new Promise((()=>t(null))))))}))).then((e=>{f(e.total)}))}),[]),o.jsx(o.Fragment,{children:o.jsxs(i,{"aria-label":"Sidebar",size:"lg",className:"select-none",variant:"plain",sx:{"--List-gap":"5px",[`& .${le.root}`]:{width:"100%"},[`& .${oe.root}`]:{pr:"18px"},'& [role="button"]':{borderRadius:"6px"}},children:[o.jsxs(c,{level:"h4",color:"neutral",children:[o.jsx("span",{style:{fontSize:"x-large"},children:"M"}),"enu"]}),o.jsx(d,{children:o.jsxs(u,{tabIndex:-1,selected:t===fr.Profile,color:"primary",variant:"plain",onClick:()=>j(fr.Profile),children:[o.jsx(E,{children:o.jsx(H,{fontSize:"lg"})}),o.jsx(ie,{children:o.jsx(c,{noWrap:!0,className:"text-base font-bold",sx:{color:"inherit"},children:"Profile"})})]})}),o.jsxs(d,{nested:p,children:[o.jsxs(u,{tabIndex:-1,color:"primary",variant:"plain",onClick:function(){g(!p)},children:[o.jsxs(E,{children:[p?o.jsx(ce,{fontSize:"lg"}):o.jsx(de,{fontSize:"lg"}),o.jsx(ue,{fontSize:"lg"})]}),o.jsx(ie,{children:o.jsx(c,{noWrap:!0,className:"text-base font-bold",sx:{color:"inherit"},children:"Writing"})})]}),p&&o.jsxs(i,{sx:{marginLeft:"13px"},children:[o.jsx(d,{children:o.jsxs(u,{tabIndex:-1,selected:t===fr.Blogs,color:"primary",variant:"plain",onClick:()=>j(fr.Blogs),children:[o.jsx(E,{children:o.jsx(me,{fontSize:"lg"})}),o.jsx(ie,{children:o.jsx(c,{noWrap:!0,className:"text-base font-bold",sx:{color:"inherit"},children:"Blogs"})}),o.jsx(m,{variant:"soft",size:"sm",badgeContent:s,sx:{"--Badge-ring":"0 0 0 0"}})]})}),o.jsx(d,{children:o.jsxs(u,{tabIndex:-1,selected:t===fr.Drafts,color:"primary",variant:"plain",onClick:()=>j(fr.Drafts),children:[o.jsx(E,{children:o.jsx(xe,{fontSize:"lg"})}),o.jsx(c,{noWrap:!0,className:"text-base font-bold",sx:{color:"inherit"},children:"Drafts"}),o.jsx(m,{variant:"soft",size:"sm",badgeContent:h,sx:{"--Badge-ring":"0 0 0 0"}})]})})]})]})]})})},br=()=>{const e=s(Pt),t=s(jr),[r,n]=l.useState([]),a=l.useRef([]),[i,c]=l.useState(!1),[d,u]=l.useState(!1),m=l.useRef(!1),[x,h]=l.useState(1),f=l.useRef(1),[p,g]=l.useState(!1);function j(){const r= e=>{0===Object.getOwnPropertyNames(e).length&&(u(!0),m.current=!0),h(f.current+1)};let n=x*Ve;t===fr.Blogs?Ge(e.id,n,Ve).then((e=>{r(e)})):t===fr.Drafts&&Ze(localStorage.getItem("token"),e.id,n,Ve).then((e=>{r(e)}))}function v(r){let s=0,l=[],o=null;for(let i in r){let d;if(s++,clearTimeout(o),t===fr.Blogs)d=[Ae(e.id,r[i].id),We(r[i].id)];else if(t===fr.Drafts){let t=localStorage.getItem("token");d=[Ke(t,e.id,r[i].id),Je(t,r[i].id)]}Promise.all(d).then((e=>{e[0].content=e[1].content,l.push(e[0]),o=setTimeout((()=>{0!==l.length&&n(dr(a.current,l)),c(!1)}),100)}))}0===s&&(u(!0),m.current=!0)}return l.useEffect((()=>{n([]),a.current=[],h(1),f.current=1,m.current=!1,u(!1),g(!p)}),[t]),l.useEffect((()=>{!function(){if(!m.current){let n=(x-1)*Ve;c(!0),a.current=r,f.current=x,t===fr.Blogs?Ge(e.id,n,Ve).then((e=>{v(e),j()})):t===fr.Drafts&&Ze(localStorage.getItem("token"),e.id,n,Ve).then((e=>{v(e),j()}))}}()}),[p]),o.jsx("div",{className:"mb-10",children:o.jsx(ur,{id:"writingList"})})},yr=()=>{const e=a(),t=s(jr),r=s(Lt),n=h();return l.useEffect((()=>{r||n("/login",{replace:!0})}),[r,n]),l.useEffect((()=>{e(gr(0))}),[]),o.jsx(o.Fragment,{children:o.jsx(tr,{left:{el:o.jsx(vr,{}),fixed:!0},content:{el:o.jsx(o.Fragment,{children:(t===fr.Blogs||t===fr.Drafts)&&o.jsx(br,{})})}})})},wr=()=>{const e=a(),t=h(),[n,i]=l.useState(!1),[d,u]=l.useState(!1),[m,x]=l.useState(""),[p,g]=l.useState(""),[v,b]=l.useState(""),[y,w]=l.useState(!1),S=s(Lt);async function N(){var n,s;u(!0),(n=m,s=p,new Promise((e=>{Le(s).then((t=>{r(`${He}/login`,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:t})}).then((t=>{e(t.body)})).catch((t=>e(new Promise((()=>e(null))))))}))}))).then((r=>{null!==r&&(null!==r.login&&void 0!==r.login?(localStorage.setItem("token",r.login),e(zt({id:r.id})),t("/",{replace:!0})):(b(r.msg),w(!0))),u(!1)}))}return l.useEffect((()=>{S&&t("/",{replace:!0})}),[S,t]),l.useEffect((()=>{!y&&b("")}),[y]),o.jsxs("div",{className:"flex flex-col gap-2",onKeyDown: e=>async function(e){13===e.keyCode&&await N()}(e),children:[o.jsxs(f,{invertedColors:!0,variant:"soft",color:"primary",sx:{boxShadow:"lg"},className:"w-96 h-80 select-none",children:[o.jsx(te,{children:o.jsx(c,{level:"h1",className:"capitalize text-center",style:{marginTop:10,textShadow:"0 0 8px var(--joy-palette-text-primary, var(--joy-palette-neutral-800, #171A1C))"},children:"sign in"})}),o.jsx(I,{className:"mt-8",children:o.jsxs(F,{direction:"column",justifyContent:"center",spacing:6,children:[o.jsx(he,{className:"flex justify-center items-center",children:o.jsx(O,{onChange:function(e){x(e.target.value)},value:m,startDecorator:o.jsx(j,{variant:"outlined",startDecorator:o.jsx(T,{}),style:{cursor:"default"},children:"username"}),endDecorator:""!==m&&o.jsx(C,{tabIndex:-1,onClick:function(){x("")},sx:{background:"transparent","&:hover":{background:"transparent"}},children:o.jsx(G,{})}),color:"primary",variant:"soft",className:"w-11/12",maxLength:20,size:"md",sx:{"--Input-focusedThickness":"0"}})}),o.jsx(he,{className:"flex justify-center items-center",children:o.jsx(O,{onChange:function(e){g(e.target.value)},value:p,startDecorator:o.jsx(j,{variant:"outlined",startDecorator:o.jsx(fe,{}),style:{cursor:"default"},children:"password"}),endDecorator:o.jsxs("div",{className:"flex gap-2",children:[""!==p&&o.jsx(C,{tabIndex:-1,onClick:function(){g("")},sx:{background:"transparent","&:hover":{background:"transparent"}},children:o.jsx(G,{})}),o.jsx(C,{onClick:function(){i(!n)},children:n?o.jsx(pe,{}):o.jsx(ge,{})})]}),color:"primary",variant:"soft",className:"w-11/12",type:n?"text":"password",maxLength:20,size:"md",sx:{"--Input-focusedThickness":"0"}})})]})}),o.jsx(je,{buttonFlex:"0 1 200px",className:"flex justify-center items-center",children:o.jsx(V,{tabIndex:-1,loading:d,variant:"solid",color:"primary",className:"capitalize",onClick:N,children:"sign in"})})]}),o.jsx(f,{invertedColors:!0,variant:"soft",color:"primary",sx:{boxShadow:"lg"},children:o.jsx(I,{className:"flex justify-center items-center",children:o.jsx(c,{endDecorator:o.jsxs(ve,{variant:"plain",onClick:function(){t("/signup",{replace:!0})},fontSize:"md",borderRadius:"sm",children:["Create an account",o.jsx(be,{})]}),children:"New to Here?"})})}),o.jsx(ye,{autoHideDuration:3e3,color:"danger",variant:"solid",anchorOrigin:{vertical:"bottom",horizontal:"right"},open:y,onClose:()=>w(!1),startDecorator:o.jsx(we,{}),endDecorator:o.jsx(C,{onClick:()=>w(!1),variant:"plain",sx:{color:"inherit"},children:o.jsx(G,{style:{color:"inherit"}})}),children:o.jsx(c,{sx:{color:"inherit"},children:o.jsx(c,{level:"body-sm",sx:{color:"inherit"},children:v})})})]})},Cr=()=>o.jsx(o.Fragment,{children:o.jsx(tr,{center:{el:o.jsx(o.Fragment,{children:o.jsx(wr,{})}),show:!0,fixed:!0}})}),Sr=()=>o.jsx(o.Fragment,{children:o.jsx(tr,{center:{el:o.jsx(o.Fragment,{}),show:!0}})}),Nr=()=>o.jsx(o.Fragment,{children:o.jsx(tr,{navigate:!1})});const kr=()=>{const e=[{id:"bold",icon:"format_bold",color:"primary",func:()=>H("bold")},{id:"italic",icon:"format_italic",color:"primary",func:()=>H("italic")},{id:"underline",icon:"format_underlined",color:"primary",func:()=>H("underline")},{id:"strike",icon:"strikethrough_s",color:"primary",func:()=>H("strike")},{id:"script#super",icon:"superscript",color:"primary",func:()=>H("script","super")},{id:"script#sub",icon:"subscript",color:"primary",func:()=>H("script","sub")},{id:"header#1",icon:"format_h1",color:"primary",func:()=>H("header",1)},{id:"header#2",icon:"format_h2",color:"primary",func:()=>H("header",2)},{id:"blockquote",icon:"format_quote",color:"primary",func:()=>H("blockquote")},{id:"code-block",icon:"code",color:"primary",func:()=>H("code-block")},{id:"link",icon:"link",color:"primary",func:()=>H("link")},{id:"list#ordered",icon:"format_list_numbered",color:"primary",func:()=>H("list","ordered")},{id:"list#bullet",icon:"format_list_bulleted",color:"primary",func:()=>H("list","bullet")},{id:"image",icon:"imagesmode",color:"primary",func:()=>H("image")}],t=x(),[r,n]=l.useState(!1),[a,i]=l.useState(""),[d,u]=l.useState(""),[m,p]=l.useState(0),[g,j]=l.useState(_()),[v,b]=l.useState(R()),[y,w]=l.useState(!1),[S,N]=l.useState(!1),[k,E]=l.useState(!1),$=l.useRef(t.id),z=P(),B=h(),T=s(Lt),L=l.useRef(null);l.useEffect((()=>{"writeblog"===z.pathname.split("/")[1]&&(T?($.current=t.id,void 0===$.current||null===$.current?E(!1):E(!0)):B("/login",{replace:!0}))}),[]),l.useEffect((()=>{let t=L?.current?.getEditor();if(t){let r=t.getLength()-1;p(r),N(r<=0),e.forEach((e=>{let t=e.id,r=A(t.split("#")[0],t.split("#")[1]);W(t,r)}))}}),[d]),l.useEffect((()=>{r||(n(!0),window.removeEventListener("resize",F),window.addEventListener("resize",F),q())}),[]),l.useEffect((()=>{q()}),[g,v]),l.useEffect((()=>{}),[open]);const F=l.useCallback((()=>{j(_()),b(R())}),[]);function _(){let e=(document.compatMode&&"CSS1Compat"==document.compatMode?document.documentElement:document.body).clientWidth;return e<772?772:e}function R(){return(document.compatMode&&"CSS1Compat"==document.compatMode?document.documentElement:document.body).clientHeight-96}function q(){let e=document.querySelector(".ql-editor");e?e.style.minHeight=`calc(${v}px - 153px)`:window.removeEventListener("resize",F)}function M(e){a.length<40&&i(e.target.value)}function H(e, t){let r;r=void 0===t?document.querySelector(`.ql-${e}`):document.querySelector(`.ql-${e}[value='${t}']`),r.click(),W(e,A(e,t))}function A(e, t){let r,n;void 0===t?(r=document.querySelector(`.ql-${e}`),n=document.getElementById(e)):(r=document.querySelector(`.ql-${e}[value='${t}']`),n=document.getElementById(e+"#"+t));let s=r.classList.contains("ql-active");return n.style.backgroundColor=s?"var(--variant-softHoverBg, var(--joy-palette-primary-softHoverBg, var(--joy-palette-primary-200, #C7DFF7)))":"",s}function W(e, t){"code-block"===e&&(t||K())}function K(){document.querySelector(".ql-editor").querySelectorAll("pre").forEach((e=>{new Promise((()=>{Ce.highlightElement(e),e.removeAttribute("data-highlighted")})).catch((()=>null))}))}return o.jsx("div",{className:"ml-5 mr-5",style:{width:`${g}px`},children:o.jsxs(D,{container:!0,spacing:2,columns:4,sx:{flexGrow:1,minHeight:`${v}px`,maxHeight:`${v}px`},children:[o.jsx(D,{xs:1,children:o.jsxs(f,{color:"primary",variant:"outlined",sx:{minHeight:"100%",boxShadow:"lg"},children:[o.jsx(te,{children:o.jsx(O,{className:"mt-5",slots:{root:O},slotProps:{root:{maxLength:40,endDecorator:o.jsxs("div",{className:"flex justify-end items-center gap-2",children:[""!==a&&o.jsx(C,{tabIndex:-1,onClick:function(){i("")},sx:{background:"transparent","&:hover":{background:"transparent"}},children:o.jsx(G,{})}),o.jsx(c,{color:"primary",variant:"plain",level:"body-sm",children:`${a.length}/40`})]}),onChange: e=>M(e),onInput: e=>M(e),value:a,color:"primary",variant:"outlined",size:"md",placeholder:"Type your title...",sx:{"--Input-focusedThickness":"0"}}}})}),o.jsx(je,{children:k?o.jsx(V,{loading:y,className:"capitalize",disabled:S,tabIndex:-1,size:"sm",variant:"soft",color:"primary",children:"post"}):o.jsxs("div",{className:"w-full flex justify-end items-center gap-5",children:[o.jsx(V,{loading:y,className:"capitalize",disabled:S,tabIndex:-1,size:"sm",variant:"soft",color:"primary",children:"post"}),o.jsx(V,{loading:y,className:"capitalize",disabled:S,tabIndex:-1,size:"sm",variant:"soft",color:"primary",children:"save as draft"})]})})]})}),o.jsx(D,{xs:3,children:o.jsxs(f,{color:"primary",variant:"outlined",sx:{minHeight:"100%",boxShadow:"lg"},children:[o.jsx(I,{sx:{padding:"0"},children:o.jsxs(D,{container:!0,rowSpacing:1,direction:"column",justifyContent:"flex-start",alignItems:"stretch",sx:{flexGrow:1},children:[o.jsx(D,{xs:!0,children:o.jsx(f,{size:"sm",color:"primary",variant:"plain",sx:{paddingLeft:0,paddingRight:0,paddingTop:1,paddingBottom:1},children:o.jsx(Se,{size:"sm",color:"primary",orientation:"horizontal",variant:"outlined",children:e.map(((e, t)=>o.jsx(C,{id:e.id,size:"sm",variant:"soft",onClick:e.func,sx:{paddingLeft:2.5,paddingRight:2.5},children:o.jsx("span",{className:"material-symbols-outlined",children:e.icon})},t)))})})}),o.jsx(D,{xs:!0,children:o.jsx(f,{size:"sm",color:"primary",variant:"outlined",sx:{padding:1,minHeight:`calc(${v}px - 135px)`,height:"100%",maxHeight:`calc(${v}px - 135px)`,cursor:"text"},children:o.jsx(Ne,{children:o.jsx(ke,{style:{minHeight:`calc(${v}px - 153px)`},ref:L,placeholder:"Type here...",preserveWhitespace:!0,defaultValue:d,onChange:u,modules:{toolbar:["bold","italic","underline","strike",{script:"super"},{script:"sub"},{header:1},{header:2},"blockquote","code-block","link",{list:"ordered"},{list:"bullet"},"image"]},onBlur:K})})})})]})}),o.jsx(je,{className:"flex justify-end items-end mt-[-20px]",children:o.jsx(c,{className:"select-none",level:"body-xs",color:"primary",variant:"plain",children:`${m}  character(s)`})})]})})]})})},Er=()=>o.jsx(o.Fragment,{children:o.jsx(tr,{center:{el:o.jsx(kr,{}),show:!0,fixed:!1}})}),Ir=Ee([{path:"/",element:o.jsx(Nr,{})},{path:"/blog",element:o.jsx(hr,{})},{path:"/blog/:id",element:o.jsx(hr,{})},{path:"/writeblog",element:o.jsx(Er,{})},{path:"/writeblog/:id",element:o.jsx(Er,{})},{path:"/dashboard",element:o.jsx(yr,{})},{path:"/login",element:o.jsx(Cr,{})},{path:"/signup",element:o.jsx(Sr,{})}]);function $r(){let e=B(),t=s(er);const r=l.useRef(null);return l.useEffect((()=>{document.body.classList.remove(_e),document.body.classList.remove(Fe),document.body.classList.add("dark"===e.mode?_e:Fe)}),[e]),l.useEffect((()=>{r.current.updateScroll()}),[t]),o.jsx(Ne,{ref:r,children:o.jsx("div",{className:`min-w-full max-w-full min-h-full max-h-full ${"dark"===e.mode?_e:Fe}`,children:o.jsx(Ie,{router:Ir})})})}const zr=$e({reducer:{blog:Nt.reducer,blogPage:xt.reducer,blogNumber:jt.reducer,blogFilterNumber:Ht.reducer,blogContent:sr.reducer,blogDelete:Ft.reducer,blogOpButton:Dt.reducer,condition:et.reducer,searchKeyword:at.reducer,loginState:Bt.reducer,userBasicInfo:$t.reducer,showSearchResult:ct.reducer,sideBar:pr.reducer,location:Qt.reducer}});ze.createRoot(document.getElementById("root")).render(o.jsx(Pe.StrictMode,{children:o.jsx(Be,{store:zr,children:o.jsx(Te,{defaultMode:"dark",modeStorageKey:"theme-mode",children:o.jsx($r,{})})})}));
